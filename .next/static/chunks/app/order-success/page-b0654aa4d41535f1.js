(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6421],{8293:function(e,t,s){Promise.resolve().then(s.bind(s,3202))},7977:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var n=s(4090);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,n.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:m,iconNode:h,...o}=e;return(0,n.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:s,strokeWidth:c?24*Number(l)/Number(r):l,className:a("lucide",d),...o},[...h.map(e=>{let[t,s]=e;return(0,n.createElement)(t,s)}),...Array.isArray(m)?m:[m]])}),c=(e,t)=>{let s=(0,n.forwardRef)((s,i)=>{let{className:c,...d}=s;return(0,n.createElement)(l,{ref:i,iconNode:t,className:a("lucide-".concat(r(e)),c),...d})});return s.displayName="".concat(e),s}},4187:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(7977).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7907:function(e,t,s){"use strict";var n=s(5313);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},3202:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(3827),r=s(4090),a=s(7907),i=s(4958);let l=(0,s(7977).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var c=s(4187),d=s(8792);function m(){let e=(0,a.useSearchParams)();(0,a.useRouter)();let[t,s]=(0,r.useState)(null),[m,h]=(0,r.useState)([]),[o,u]=(0,r.useState)(!0),[x,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{let t=e.get("orderId");t?g(t):(f("Kh\xf4ng t\xecm thấy m\xe3 đơn h\xe0ng"),u(!1))},[e]);let g=async e=>{try{let{data:t,error:n}=await i.O.from("orders").select("*").eq("id",e).single();if(n)throw n;if(!t){f("Kh\xf4ng t\xecm thấy đơn h\xe0ng"),u(!1);return}let{data:r,error:a}=await i.O.from("order_items").select("\n          *,\n          product:products (\n            name,\n            image_url\n          )\n        ").eq("order_id",e);if(a)throw a;s(t),h(r||[])}catch(e){console.error("Error fetching order details:",e),f("C\xf3 lỗi xảy ra khi tải th\xf4ng tin đơn h\xe0ng")}finally{u(!1)}};return o?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):x||!t?(0,n.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"flex justify-center mb-6",children:(0,n.jsx)(l,{className:"h-16 w-16 text-red-500"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:x||"Kh\xf4ng t\xecm thấy đơn h\xe0ng"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"Vui l\xf2ng kiểm tra lại th\xf4ng tin đơn h\xe0ng."}),(0,n.jsx)(d.default,{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:"Về trang chủ"})]})}):(0,n.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"flex justify-center mb-6",children:(0,n.jsx)(c.Z,{className:"h-16 w-16 text-green-500"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Đặt h\xe0ng th\xe0nh c\xf4ng!"}),(0,n.jsx)("p",{className:"text-gray-600 mb-8",children:"Cảm ơn bạn đ\xe3 đặt h\xe0ng. Ch\xfang t\xf4i sẽ xử l\xfd đơn h\xe0ng của bạn sớm nhất c\xf3 thể."}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Th\xf4ng tin đơn h\xe0ng"}),(0,n.jsxs)("div",{className:"space-y-3 text-left",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"M\xe3 đơn h\xe0ng:"}),(0,n.jsxs)("span",{className:"font-medium",children:["#",t.id.slice(0,8)]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"T\xean kh\xe1ch h\xe0ng:"}),(0,n.jsx)("span",{className:"font-medium",children:t.customer_name})]}),t.customer_email&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,n.jsx)("span",{className:"font-medium",children:t.customer_email})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Số điện thoại:"}),(0,n.jsx)("span",{className:"font-medium",children:t.customer_phone})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Địa chỉ giao h\xe0ng:"}),(0,n.jsx)("span",{className:"font-medium",children:t.shipping_address})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Phương thức thanh to\xe1n:"}),(0,n.jsx)("span",{className:"font-medium",children:"vnpay"===t.payment_method?"VNPay":"Thanh to\xe1n khi nhận h\xe0ng"})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Trạng th\xe1i thanh to\xe1n:"}),(0,n.jsx)("span",{className:"font-medium ".concat((e=>{switch(e){case"paid":return"text-green-600";case"pending":return"text-yellow-600";default:return"text-red-600"}})(t.payment_status)),children:(e=>{switch(e){case"paid":return"Đ\xe3 thanh to\xe1n";case"pending":return"Chờ thanh to\xe1n";default:return"Thanh to\xe1n thất bại"}})(t.payment_status)})]})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Chi tiết đơn h\xe0ng"}),(0,n.jsxs)("div",{className:"space-y-4",children:[m.map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("img",{src:e.product.image_url,alt:e.product.name,className:"w-16 h-16 object-cover rounded"}),(0,n.jsxs)("div",{className:"flex-1 text-left",children:[(0,n.jsx)("h3",{className:"font-medium",children:e.product.name}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Số lượng: ",e.quantity]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Gi\xe1: ",new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.price)]})]})]},e.id)),(0,n.jsx)("div",{className:"border-t pt-4",children:(0,n.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,n.jsx)("span",{children:"Tổng tiền:"}),(0,n.jsx)("span",{children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.total_amount)})]})})]})]}),(0,n.jsxs)("div",{className:"space-x-4",children:[(0,n.jsx)(d.default,{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:"Về trang chủ"}),(0,n.jsx)(d.default,{href:"/orders",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Xem đơn h\xe0ng của t\xf4i"})]})]})})}function h(){return(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}),children:(0,n.jsx)(m,{})})}},4958:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});let n=(0,s(8714).createClientComponentClient)()}},function(e){e.O(0,[8714,8792,2971,8069,1744],function(){return e(e.s=8293)}),_N_E=e.O()}]);