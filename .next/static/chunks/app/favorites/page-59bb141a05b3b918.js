(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{2705:function(e,t,r){Promise.resolve().then(r.bind(r,8262))},7977:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(4090);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:o,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:l?24*Number(i)/Number(s):i,className:n("lucide",d),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,c)=>{let{className:l,...d}=r;return(0,a.createElement)(i,{ref:c,iconNode:t,className:n("lucide-".concat(s(e)),l),...d})});return r.displayName="".concat(e),r}},3118:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(7977).Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},527:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(7977).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},5211:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(7977).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9910:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(7977).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2600:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(7977).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},2800:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(7977).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(7977).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7907:function(e,t,r){"use strict";var a=r(5313);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},8262:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var a=r(3827),s=r(4090),n=r(7907),c=r(4958),i=r(5211),l=r(2800),d=r(489),o=r(9659),u=r(703);function h(){let e=(0,n.useRouter)(),[t,r]=(0,s.useState)([]),[h,m]=(0,s.useState)(!0);(0,s.useEffect)(()=>{x(),g()},[]);let x=async()=>{let{data:{session:t}}=await c.O.auth.getSession();t||e.push("/login")},g=async()=>{try{let{data:{session:e}}=await c.O.auth.getSession();if(!e)return;let{data:t,error:a}=await c.O.from("wishlist").select("\n          *,\n          product:products (\n            id,\n            name,\n            price,\n            image_url,\n            description\n          )\n        ").eq("user_id",e.user.id).order("created_at",{ascending:!1});if(a)throw a;r(t||[])}catch(e){console.error("Error fetching wishlist:",e)}finally{m(!1)}},f=async e=>{try{let{data:{session:a}}=await c.O.auth.getSession();if(!a)return;let{error:s}=await c.O.from("wishlist").delete().eq("user_id",a.user.id).eq("product_id",e);if(s)throw s;r(t.filter(t=>t.product_id!==e))}catch(e){console.error("Error removing from wishlist:",e)}},p=async e=>{try{let{data:{session:t}}=await c.O.auth.getSession();if(!t)return;let{data:r}=await c.O.from("cart").select("*").eq("user_id",t.user.id).eq("product_id",e).single();r?await c.O.from("cart").update({quantity:r.quantity+1}).eq("id",r.id):await c.O.from("cart").insert([{user_id:t.user.id,product_id:e,quantity:1}]),await f(e)}catch(e){console.error("Error adding to cart:",e)}};return h?(0,a.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),(0,a.jsx)("div",{className:"md:col-span-3 bg-white rounded-lg shadow-sm p-6",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-200 rounded-lg mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e))})})]})]})}):(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-8",children:[(0,a.jsx)("a",{href:"/",className:"hover:text-red-600",children:"Trang chủ"}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)("a",{href:"/account",className:"hover:text-red-600",children:"T\xe0i khoản"}),(0,a.jsx)("span",{children:"/"}),(0,a.jsx)("span",{className:"text-gray-400",children:"Sản phẩm y\xeau th\xedch"})]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Sản phẩm y\xeau th\xedch"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,a.jsx)(o.Z,{activePage:"favorites"}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:0===t.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chưa c\xf3 sản phẩm y\xeau th\xedch"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Bạn chưa c\xf3 sản phẩm y\xeau th\xedch n\xe0o. H\xe3y kh\xe1m ph\xe1 c\xe1c sản phẩm của ch\xfang t\xf4i."}),(0,a.jsx)("a",{href:"/products",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:"Kh\xe1m ph\xe1 ngay"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden group",children:[(0,a.jsx)("div",{className:"relative aspect-square",children:(0,a.jsx)(u.default,{src:e.product.image_url,alt:e.product.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:e.product.name}),(0,a.jsxs)("p",{className:"text-red-600 font-medium mb-4",children:[e.product.price.toLocaleString("vi-VN"),"đ"]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("button",{onClick:()=>p(e.product_id),className:"flex items-center text-sm text-white bg-red-600 px-3 py-1.5 rounded hover:bg-red-700",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 mr-1"}),"Th\xeam v\xe0o giỏ"]}),(0,a.jsx)("button",{onClick:()=>f(e.product_id),className:"text-gray-500 hover:text-red-600",children:(0,a.jsx)(d.Z,{className:"w-5 h-5"})})]})]})]},e.id))})})]})]})}},9659:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(3827),s=r(8792),n=r(3118),c=r(2600),i=r(527),l=r(5211),d=r(9910);function o(e){let{activePage:t}=e;return(0,a.jsxs)("div",{className:"w-full md:w-64 space-y-1",children:[(0,a.jsxs)(s.default,{href:"/account",className:"flex items-center space-x-2 p-3 rounded-lg hover:bg-gray-50 ".concat("profile"===t?"bg-gray-50 text-red-600":"text-gray-700"),children:[(0,a.jsx)(n.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Th\xf4ng tin t\xe0i khoản"})]}),(0,a.jsxs)(s.default,{href:"/orders",className:"flex items-center space-x-2 p-3 rounded-lg hover:bg-gray-50 ".concat("orders"===t?"bg-gray-50 text-red-600":"text-gray-700"),children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Đơn h\xe0ng của t\xf4i"})]}),(0,a.jsxs)(s.default,{href:"/payment",className:"flex items-center space-x-2 p-3 rounded-lg hover:bg-gray-50 ".concat("payment"===t?"bg-gray-50 text-red-600":"text-gray-700"),children:[(0,a.jsx)(i.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Phương thức thanh to\xe1n"})]}),(0,a.jsxs)(s.default,{href:"/favorites",className:"flex items-center space-x-2 p-3 rounded-lg hover:bg-gray-50 ".concat("favorites"===t?"bg-gray-50 text-red-600":"text-gray-700"),children:[(0,a.jsx)(l.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Sản phẩm y\xeau th\xedch"})]}),(0,a.jsxs)(s.default,{href:"/settings",className:"flex items-center space-x-2 p-3 rounded-lg hover:bg-gray-50 ".concat("settings"===t?"bg-gray-50 text-red-600":"text-gray-700"),children:[(0,a.jsx)(d.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"C\xe0i đặt"})]})]})}},4958:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});let a=(0,r(8714).createClientComponentClient)()}},function(e){e.O(0,[8714,8792,703,2971,8069,1744],function(){return e(e.s=2705)}),_N_E=e.O()}]);