"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8141],{8141:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var s=a(3827),l=a(8792),r=a(8670),i=a(9744),n=a(3441),c=a(2800),o=a(1213),d=a(3118),u=a(9910),m=a(1049),h=a(684),x=a(1652),p=a(5904),f=a(4090),g=a(4958),y=a(7907),v=a(2235),j=a(489),N=a(703),w=a(8371),b=a(8745);let k=(0,a(2020).Ue)(e=>({items:[],isLoading:!1,setItems:t=>e({items:t}),setIsLoading:t=>e({isLoading:t}),addItem:t=>e(e=>({items:[...e.items,t]})),removeItem:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),updateItemQuantity:(t,a)=>e(e=>({items:e.items.map(e=>e.id===t?{...e,quantity:a}:e)})),clearCart:()=>e({items:[]})}));function C(){let[e,t]=(0,f.useState)(!1),{items:a,isLoading:r,setItems:i,setIsLoading:n,removeItem:o,updateItemQuantity:d}=k(),[u,m]=(0,f.useState)(null);(0,f.useEffect)(()=>{g.O.auth.getSession().then(e=>{var t;let{data:{session:a}}=e;m(null!==(t=null==a?void 0:a.user)&&void 0!==t?t:null),(null==a?void 0:a.user)?h(a.user.id):n(!1)});let{data:{subscription:e}}=g.O.auth.onAuthStateChange((e,t)=>{var a;m(null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null),(null==t?void 0:t.user)?h(t.user.id):(i([]),n(!1))});return()=>{e.unsubscribe()}},[]);let h=async e=>{try{n(!0);let{data:t,error:a}=await g.O.from("cart_items").select("\n          id,\n          product_id,\n          quantity,\n          product:products (\n            id,\n            name,\n            price,\n            image_url\n          )\n        ").eq("user_id",e);if(a)throw a;let s=(t||[]).map(e=>({...e,product:Array.isArray(e.product)?e.product[0]:e.product}));i(s)}catch(e){console.error("Error fetching cart items:",e)}finally{n(!1)}},x=async(e,t)=>{try{let s=a.find(t=>t.id===e);if(!s)return;let l=Math.max(1,s.quantity+t),{error:r}=await g.O.from("cart_items").update({quantity:l}).eq("id",e);if(r)throw r;d(e,l)}catch(e){console.error("Error updating quantity:",e)}},p=async e=>{try{let{error:t}=await g.O.from("cart_items").delete().eq("id",e);if(t)throw t;o(e)}catch(e){console.error("Error removing item:",e)}},y=a.reduce((e,t)=>e+t.quantity,0),C=a.reduce((e,t)=>e+t.product.price*t.quantity,0);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(w.E.button,{onClick:()=>t(!0),className:"relative group",whileHover:{scale:1.1},whileTap:{scale:.95},children:[(0,s.jsx)(c.Z,{className:"w-6 h-6 text-gray-700 group-hover:text-red-600 transition-colors"}),(0,s.jsx)(b.M,{children:y>0&&(0,s.jsx)(w.E.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:y})})]}),(0,s.jsx)(b.M,{children:e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:()=>t(!1)}),(0,s.jsx)(w.E.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:20},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-lg z-50",children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Giỏ h\xe0ng"}),(0,s.jsx)(w.E.button,{onClick:()=>t(!1),className:"p-2 hover:bg-gray-100 rounded-full",whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,s.jsx)(v.Z,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:r?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"})}):0===a.length?(0,s.jsxs)(w.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[(0,s.jsx)(c.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Giỏ h\xe0ng trống"})]}):(0,s.jsx)(w.E.div,{layout:!0,className:"space-y-4",children:(0,s.jsx)(b.M,{children:a.map(e=>(0,s.jsxs)(w.E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 relative",children:(0,s.jsx)(N.default,{src:e.product.image_url,alt:e.product.name,fill:!0,className:"object-cover rounded"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-medium",children:e.product.name}),(0,s.jsxs)("p",{className:"text-red-600 font-semibold",children:[e.product.price.toLocaleString("vi-VN"),"đ"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(w.E.button,{onClick:()=>x(e.id,-1),className:"w-6 h-6 flex items-center justify-center border rounded hover:bg-gray-100",whileHover:{scale:1.1},whileTap:{scale:.95},children:"-"}),(0,s.jsx)("span",{children:e.quantity}),(0,s.jsx)(w.E.button,{onClick:()=>x(e.id,1),className:"w-6 h-6 flex items-center justify-center border rounded hover:bg-gray-100",whileHover:{scale:1.1},whileTap:{scale:.95},children:"+"}),(0,s.jsx)(w.E.button,{onClick:()=>p(e.id),className:"ml-auto text-gray-400 hover:text-red-600",whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,s.jsx)(j.Z,{className:"w-4 h-4"})})]})]})]},e.id))})})}),(0,s.jsx)(b.M,{children:a.length>0&&(0,s.jsxs)(w.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"border-t p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,s.jsx)("span",{className:"font-medium",children:"Tổng cộng:"}),(0,s.jsxs)(w.E.span,{initial:{scale:1.2},animate:{scale:1},className:"font-semibold text-red-600",children:[C.toLocaleString("vi-VN"),"đ"]},C)]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l.default,{href:"/cart",className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors text-center",onClick:()=>t(!1),children:"Xem giỏ h\xe0ng"}),(0,s.jsx)(w.E.button,{className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",onClick:()=>t(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Thanh to\xe1n"})]})]})})]})})]})})]})}var E=a(6331);function S(e){let{isOpen:t,onClose:a}=e,{items:r,removeFromCart:i,updateQuantity:n}=(0,E.j)(),c=r.reduce((e,t)=>e+t.price*t.quantity,0);return t?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:a}),(0,s.jsx)("div",{className:"fixed inset-y-0 right-0 w-full max-w-lg bg-white shadow-xl",children:(0,s.jsxs)("div",{className:"flex h-full flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b px-4 py-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Giỏ h\xe0ng"}),(0,s.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(v.Z,{className:"w-6 h-6"})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:0===r.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"Giỏ h\xe0ng trống"}),(0,s.jsx)(l.default,{href:"/products",className:"text-red-600 hover:text-red-700",onClick:a,children:"Tiếp tục mua sắm"})]}):(0,s.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"relative w-20 h-20 flex-shrink-0",children:(0,s.jsx)(N.default,{src:e.image_url,alt:e.name,fill:!0,className:"object-cover rounded-lg"})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-red-600 font-semibold mt-1",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.price)}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center border rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>n(e.id,Math.max(1,e.quantity-1)),className:"px-3 py-1 hover:bg-gray-100",children:"-"}),(0,s.jsx)("span",{className:"px-3 py-1 border-x",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>n(e.id,e.quantity+1),className:"px-3 py-1 hover:bg-gray-100",children:"+"})]}),(0,s.jsx)("button",{onClick:()=>i(e.id),className:"text-gray-500 hover:text-red-600",children:(0,s.jsx)(j.Z,{className:"w-5 h-5"})})]})]})]},e.id))})}),r.length>0&&(0,s.jsxs)("div",{className:"border-t px-4 py-4",children:[(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Tạm t\xednh"}),(0,s.jsx)("span",{className:"font-medium",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Ph\xed vận chuyển"}),(0,s.jsx)("span",{className:"font-medium",children:"Miễn ph\xed"})]}),(0,s.jsx)("div",{className:"border-t pt-2",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Tổng cộng"}),(0,s.jsx)("span",{className:"font-semibold text-red-600",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c)})]})})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l.default,{href:"/cart",className:"flex-1 border border-red-600 text-red-600 text-center py-3 rounded-lg hover:bg-red-50 transition-colors",onClick:a,children:"Xem giỏ h\xe0ng"}),(0,s.jsx)(l.default,{href:"/checkout",className:"flex-1 bg-red-600 text-white text-center py-3 rounded-lg hover:bg-red-700 transition-colors",onClick:a,children:"Thanh to\xe1n"})]})]})]})})]}):null}function q(){let e=(0,y.useRouter)(),t=(0,y.usePathname)(),[a,v]=(0,f.useState)(null),[j,N]=(0,f.useState)(!0),[k,q]=(0,f.useState)(!1),[_,Z]=(0,f.useState)(!1),[O,T]=(0,f.useState)(!1),[I,M]=(0,f.useState)(!1),[L,V]=(0,f.useState)(null),[P,D]=(0,f.useState)(!1),[F,H]=(0,f.useState)(!1),[G,z]=(0,f.useState)(""),[A,U]=(0,f.useState)(""),[Q,X]=(0,f.useState)(""),[R,W]=(0,f.useState)(!0),[J,Y]=(0,f.useState)({email:"",password:"",confirmPassword:"",fullName:"",phone:""}),[B,K]=(0,f.useState)(""),[$,ee]=(0,f.useState)(!1),[et,ea]=(0,f.useState)(!1),[es,el]=(0,f.useState)([]),[er,ei]=(0,f.useState)(!1),{items:en}=(0,E.j)(),ec=en.reduce((e,t)=>e+t.quantity,0);(0,f.useEffect)(()=>{eo(),g.O.auth.getSession().then(e=>{var t,a;let{data:{session:s}}=e;v(null!==(a=null==s?void 0:s.user)&&void 0!==a?a:null),(null==s?void 0:null===(t=s.user)||void 0===t?void 0:t.email)&&ed(s.user.email),N(!1)});let{data:{subscription:e}}=g.O.auth.onAuthStateChange(async(e,t)=>{var a,s;v(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),(null==t?void 0:null===(a=t.user)||void 0===a?void 0:a.email)&&await ed(t.user.email),N(!1)}),t=()=>{D(window.scrollY>100)};return window.addEventListener("scroll",t),()=>{e.unsubscribe(),window.removeEventListener("scroll",t)}},[]);let eo=async()=>{try{let{data:e,error:t}=await g.O.from("categories").select("id, name, slug").order("name");if(t)throw t;el(e||[])}catch(e){console.error("Error fetching categories:",e)}},ed=async e=>{try{let{data:t,error:a}=await g.O.from("users").select("*").eq("email",e).single();if(a)throw a;t&&V({id:t.id,full_name:t.full_name,email:t.email,phone:t.phone,address:t.address,avatar_url:t.avatar_url,created_at:t.created_at,updated_at:t.updated_at})}catch(e){console.error("Error fetching user data:",e)}},eu=async t=>{t.preventDefault();try{let{data:t,error:a}=await g.O.auth.signInWithPassword({email:G,password:A});if(a)throw a;if(t.user){let{data:a,error:s}=await g.O.from("users").select("role").eq("email",t.user.email).single();if(s)throw s;ee(!1),z(""),U(""),(null==a?void 0:a.role)==="admin"&&e.push("/admin")}}catch(e){console.error("Error logging in:",e),X("Email hoặc mật khẩu kh\xf4ng ch\xednh x\xe1c")}};(0,f.useEffect)(()=>{let{data:{subscription:e}}=g.O.auth.onAuthStateChange((e,t)=>{"SIGNED_IN"===e?(v((null==t?void 0:t.user)||null),(null==t?void 0:t.user)&&g.O.from("profiles").select("role").eq("id",t.user.id).single().then(e=>{let{data:t,error:a}=e;a||(null==t?void 0:t.role)!=="admin"||ea(!0)})):"SIGNED_OUT"===e&&(v(null),ea(!1))});return()=>{e.unsubscribe()}},[]);let em=async e=>{if(e.preventDefault(),K(""),J.password!==J.confirmPassword){K("Mật khẩu x\xe1c nhận kh\xf4ng khớp");return}try{let{data:e,error:t}=await g.O.auth.signUp({email:J.email,password:J.password,options:{data:{full_name:J.fullName,phone:J.phone},emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});if(t){K("C\xf3 lỗi xảy ra khi đăng k\xfd");return}if(e.user){let{error:t}=await g.O.from("users").insert([{id:e.user.id,email:J.email,full_name:J.fullName,phone:J.phone,points:0,role:"customer",address:"",password_hash:e.user.aud}]);if(t){console.error("Error creating profile:",t),K("C\xf3 lỗi xảy ra khi tạo th\xf4ng tin người d\xf9ng");return}K("Vui l\xf2ng kiểm tra email của bạn để x\xe1c nhận t\xe0i khoản"),H(!1),Y({email:"",password:"",confirmPassword:"",fullName:"",phone:""}),W(!0)}}catch(e){K("C\xf3 lỗi xảy ra, vui l\xf2ng thử lại")}};(0,f.useEffect)(()=>{eh()},[]);let eh=async()=>{try{let{data:{session:e}}=await g.O.auth.getSession();if(null==e?void 0:e.user){let{data:t,error:a}=await g.O.from("users").select("role").eq("email",e.user.email).single();if(a)throw a;ea((null==t?void 0:t.role)==="admin")}}catch(e){console.error("Error checking user:",e)}finally{N(!1)}},ex=async()=>{try{await g.O.auth.signOut(),e.push("/")}catch(e){console.error("Error signing out:",e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("header",{className:"w-full bg-white shadow-sm ".concat(P?"fixed top-0 left-0 z-50 animate-slideDown":""),children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"md:hidden flex items-center justify-between py-4",children:[(0,s.jsx)(l.default,{href:"/",className:"text-2xl font-bold",children:"Lumi\xe8re"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"T\xecm kiếm...",className:"w-48 pl-10 pr-4 py-2 text-sm border rounded-full focus:outline-none focus:border-red-500"}),(0,s.jsx)(r.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),(0,s.jsx)(C,{}),(0,s.jsx)("button",{onClick:()=>T(!O),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,s.jsx)(i.Z,{className:"w-6 h-6"})})]})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center justify-between py-4",children:[(0,s.jsx)(l.default,{href:"/",className:"text-2xl font-bold",children:"Lumi\xe8re"}),(0,s.jsxs)("nav",{className:"flex items-center space-x-8",children:[(0,s.jsx)(l.default,{href:"/",className:"nav-link ".concat("/"===t?"text-red-600":""),children:"Trang chủ"}),(0,s.jsxs)("div",{className:"relative dropdown-trigger",children:[(0,s.jsxs)(l.default,{href:"/products",className:"nav-link flex items-center ".concat(t.startsWith("/products")?"text-red-600":""),children:["Sản phẩm",(0,s.jsx)(n.Z,{className:"w-4 h-4 ml-1"})]}),(0,s.jsx)("div",{className:"dropdown-menu w-48 py-2",children:es.map(e=>(0,s.jsx)(l.default,{href:"/category/".concat(e.slug),className:"block px-4 py-2 hover:bg-gray-50",children:e.name},e.id))})]}),(0,s.jsx)(l.default,{href:"/news",className:"nav-link ".concat("/news"===t?"text-red-600":""),children:"Tin tức"}),(0,s.jsx)(l.default,{href:"/about",className:"nav-link ".concat("/about"===t?"text-red-600":""),children:"Về ch\xfang t\xf4i"}),(0,s.jsx)(l.default,{href:"/contact",className:"nav-link ".concat("/contact"===t?"text-red-600":""),children:"Li\xean hệ"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"T\xecm kiếm...",className:"w-full pl-10 pr-4 py-2 text-sm border rounded-full focus:outline-none focus:border-red-500"}),(0,s.jsx)(r.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),(0,s.jsxs)("button",{onClick:()=>ei(!0),className:"relative text-gray-600 hover:text-red-600",children:[(0,s.jsx)(c.Z,{className:"w-6 h-6"}),ec>0&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:ec})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>H(!F),className:"flex items-center space-x-1 hover:text-red-600",children:[(0,s.jsx)(o.Z,{className:"w-6 h-6"}),(0,s.jsx)(n.Z,{className:"w-4 h-4"})]}),(0,s.jsx)(b.M,{children:F&&(0,s.jsx)(w.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-50",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.default,{href:"/account",className:"block px-4 py-2 hover:bg-gray-50 flex items-center",onClick:()=>H(!1),children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),"T\xe0i khoản"]}),et&&(0,s.jsxs)(l.default,{href:"/admin",className:"block px-4 py-2 hover:bg-gray-50 flex items-center",onClick:()=>H(!1),children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),"Quản trị"]}),(0,s.jsxs)("button",{onClick:ex,className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center text-red-600",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Đăng xuất"]})]}):(0,s.jsx)("div",{className:"p-4",children:R?(0,s.jsxs)("form",{onSubmit:eu,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"email",value:G,onChange:e=>z(e.target.value),placeholder:"Email",required:!0,autoComplete:"email",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-red-500"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"password",value:A,onChange:e=>U(e.target.value),placeholder:"Mật khẩu",required:!0,autoComplete:"current-password",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-red-500"})]}),Q&&(0,s.jsx)("div",{className:"text-red-500 text-sm",children:Q}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition duration-200",children:"Đăng nhập"}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Chưa c\xf3 t\xe0i khoản?"," ",(0,s.jsx)("button",{type:"button",onClick:()=>W(!1),className:"text-red-600 hover:text-red-700",children:"Đăng k\xfd ngay"})]})]}):(0,s.jsxs)("form",{onSubmit:em,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"email",value:J.email,onChange:e=>Y({...J,email:e.target.value}),placeholder:"Email",required:!0,autoComplete:"email",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-red-500"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:J.fullName,onChange:e=>Y({...J,fullName:e.target.value}),placeholder:"Họ v\xe0 t\xean",required:!0,autoComplete:"name",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-red-500"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"password",value:J.password,onChange:e=>Y({...J,password:e.target.value}),placeholder:"Mật khẩu",required:!0,autoComplete:"new-password",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-red-500"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"password",value:J.confirmPassword,onChange:e=>Y({...J,confirmPassword:e.target.value}),placeholder:"X\xe1c nhận mật khẩu",required:!0,autoComplete:"new-password",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-red-500"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"tel",value:J.phone,onChange:e=>Y({...J,phone:e.target.value}),placeholder:"Số điện thoại",autoComplete:"tel",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-red-500"})]}),B&&(0,s.jsx)("div",{className:"text-red-500 text-sm",children:B}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition duration-200",children:"Đăng k\xfd"}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Đ\xe3 c\xf3 t\xe0i khoản?"," ",(0,s.jsx)("button",{type:"button",onClick:()=>W(!0),className:"text-red-600 hover:text-red-700",children:"Đăng nhập"})]})]})})})})]})]})]})]})}),(0,s.jsx)(S,{isOpen:er,onClose:()=>ei(!1)})]})}},6331:function(e,t,a){a.d(t,{j:function(){return r}});var s=a(2020),l=a(5249);let r=(0,s.Ue)()((0,l.tJ)((e,t)=>({items:[],addToCart:t=>{e(e=>e.items.find(e=>e.id===t.id)?{items:e.items.map(e=>e.id===t.id?{...e,quantity:e.quantity+t.quantity}:e)}:{items:[...e.items,t]})},removeFromCart:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},updateQuantity:(t,a)=>{e(e=>({items:e.items.map(e=>e.id===t?{...e,quantity:a}:e)}))},clearCart:()=>{e({items:[]})},getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0)}),{name:"cart-storage",storage:(0,l.FL)(()=>localStorage)}))},4958:function(e,t,a){a.d(t,{O:function(){return s}});let s=(0,a(8714).createClientComponentClient)()}}]);